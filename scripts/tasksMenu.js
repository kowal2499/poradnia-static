document.getElementById("tasksMenu").innerHTML = 
"<p id='debug'></p><ul class='simpleList'>"+
"                    <li id='zadaniaMain'><a href='zadania.html'><div class='liElement'>Oferta poradni</div></a>" +
"                    <ul>"+
"                    <li id='diagnoza'><a href='diagnoza.html'><div class='liElement'>Diagnoza</div></a></li>"+
"                    <li id='pomocDlaDzieciMłodzieży'><a href='pomocDlaDzieciiMłodzieży.html'><div class='liElement'>Pomoc dla dzieci i młodzieży</div></a>"+
"                                 <ul>"+
"                                    <li id='indywidualne'><a href='pomocIndywidualne.html'><div class='liElement'>zajęcia indywidualne na terenie poradni</div></a></li>"+
"                                    <li id='grupowe'><a href='pomocGrupowe.html'><div class='liElement'>zajęcia grupowe na terenie poradni</div></a>"+
"                                        <ul>"+
"                                           <li id='wiekPrzedszkolny'><a href='pomocGrupoweWiekPrzedszkolny.html'><div class='liElement'>dla dzieci w wieku przedszkolnym</div></a>"+
"                                               <ul>"+
"                                                  <li id='grupoweSherborne'><a href='pomocGrupoweSherborne.html'><div class='liElement'>Metoda Ruchu Rozwijającego Weroniki Sherborne</div></a></li>"+
"                                                  <li id='grupoweStymulacjaOgolnyRozwoj'><div class='liElement'>Zajęcia stymulujące ogólny rozwój dla dzieci o zaburzonym lub opóźnionym rozwoju</div></li>"+
"                                                  <li id='grupoweStymulacjaRozwojMowy'><div class='liElement'>Zajęcia stymulujące rozwój mowy dla dzieci w wieku przedszkolnym</div></li>"+
"                                                  <li id='grupowePercepcjaSluchowa'><a href='pomocGrupowePercepcjaSłuchowa.html'><div class='liElement'>Zajęcia rozwijające percepcję słuchową, przygotowujące do nauki czytania dzieci 6–letnich</div></a></li>"+
"                                                  <li id='grupoweSluchamOpowiadam'><a href='pomocGrupoweSłuchamiOpowiadam.html'><div class='liElement'>\"Bystrzaki - przedszkolaki\" - zajęcia stymulujące funkcje słuchowe i sprawność językową dla dzieci 6 letnich <span class='attention'>NOWOŚĆ !</span></div></a></li>"+
"                                                  <li id='grupoweDobryStart'><a href='pomocGrupoweDobryStart.html'><div class='liElement'>\"Metoda Dobrego Startu dzieci 6-letnich\"</div></a></li>"+
"                                                  <li id='grupoweTerapiaReki'><a href='pomocGrupoweTerapiaReki2.html'><div class='liElement'>Terapia ręki dla dzieci 5-7 letnich <span class='attention'>NOWOŚĆ !</span></div></a></li>"+
"                                                  <li id='grupoweJakajace'><div class='liElement'>Zajęcia dla dzieci jąkających się</div></li>"+
"                                                  <li id='grupoweBajkoterapia'><a href='pomocGrupoweBajkoterapia.html'><div class='liElement'>Bajkoterapia kl. 0-I szkoły podstawowej<br /></div></a></li>"+
"                                                  <li id='grupoweSensoryka'><a href='pomocGrupoweSensoryka.html'><div class='liElement'>Zajęcia usprawniające sensorykę i rozwój ogólny w wieku od 2 do 7 lat</div></a></li>"+
"                                                  <li id='grupoweStymulacjaSluch'><div class='liElement'>Zajęcia stymulujące funkcje słuchowe u dzieci słabosłyszących<br /></div></li>"+
"                                                  <li id='grupoweStymulacjaWzrok'><div class='liElement'>Zajęcia stymulujące funkcje wzrokowe u dzieci słabowidzących<br /></div></li>"+
"                                               </ul>"+
"                                           </li>"+
"                                           <li id='wiekSzkolny'><a href='pomocGrupoweWiekSzkolny.html'><div class='liElement'>dla dzieci w wieku szkolnym</div></a>"+
"                                               <ul>"+
"                                                  <li id='szkGrupoweSherborne'><a href='szkPomocGrupoweSherborne.html'><div class='liElement'>Metoda Ruchu Rozwijającego Weroniki Sherborne</div></a></li>"+
"                                                  <li id='szkGrupoweStymulacjaOgolnyRozwoj'><div class='liElement'>Zajęcia stymulujące ogólny rozwój dla dzieci o zaburzonym lub opóźnionym rozwoju</div></li>"+
"                                                  <li id='szkPomocGrupoweDobryStart1'><a href='szkPomocGrupoweDobryStart1.html'><div class='liElement'>\"Metoda Dobrego Startu\" dla uczniów kl. I szkoły podstawowej</div></a></li>"+
"                                                  <li id='szkPomocGrupoweTerapiaReki'><a href='pomocGrupoweTerapiaReki.html'><div class='liElement'>Terapia ręki dla dzieci 5-7 letnich <span class='attention'>NOWOŚĆ !</span></div></a></li>"+

"                                                  <li id='szkPomocGrupoweDobryStart2'><a href='pomocGrupoweBystryUmysl.html'><div class='liElement'>\"Bystry umysł\" - zajęcia doskonalące koncentrację uwagi dla klas II-IV szkoły podstawowej <span class='attention'>NOWOŚĆ !</span></div></a></li>"+
"                                                  <li id='grupoweTworczeMyslenie'><a href='pomocGrupoweTwórczeMyślenie.html'><div class='liElement'>Trening twórczego myślenia dla uczników klas IV - VI szkoły podstawowej</div></a></li>"+
"                                                  <li id='grupoweKompetencjeSpoleczne'><a href='pomocGrupoweKompetencjeSpołeczne.html'><div class='liElement'>Zajęcia grupowe podnoszące kompetencje społeczne (socjoterapeutyczne) dla uczniów kl. III - VI szkoły podstawowej</div></a></li>"+
"                                                  <li id='szkGrupoweJakajace'><div class='liElement'>Zajęcia dla dzieci jąkających się.</div></li>"+
"                                                  <li id='grupoweArteterapia'><div class='liElement'>Zajęcia stymulujące rozwój z wykorzystaniem arteterapii dla uczniów klas IV-VI szkoły podstawowej</div></li>"+
"                                                  <li id='szkGrupoweBajkoterapia'><a href='szkPomocGrupoweBajkoterapia.html'><div class='liElement'>Bajkoterapia dla dzieci klas 0-I i II-III szkoły podstawowej</div></a></li>"+
"                                                  <li id='szkGrupoweSensoryka'><a href='szkPomocGrupoweSensoryka.html'><div class='liElement'>Zajęcia usprawniające sensorykę i rozwój ogólny w wieku od 2 do 7 lat</div></a></li>"+
"                                                  <li id='szkGrupoweFunkcjeSluchowe'><div class='liElement'>Zajęcia stymulujące funkcje słuchowe u dzieci słabosłyszących<br /></div></li>"+
"                                                  <li id='szkGrupoweFunkcjeWzrokowe'><div class='liElement'>Zajęcia stymulujące funkcje wzrokowe u dzieci słabowidzących<br /></div></li>"+
"                                                  <li id='szkGrupoweKorekcyjnoKompensacyjne'><a href='pomocGrupoweZajeciaKorekcyjnoKompensacyjne.html'><div class='liElement'>Zajęcia korekcyjno – kompensacyjne dla uczniów ze specyficznymi trudnościami w uczeniu się</div></a></li>"+
"                                                  <li id='szkGrupoweMatematyka'><a href='pomocGrupoweMatematyka.html'><div class='liElement'>Matematyka bez trudności dla uczniów klas IV-VI szkoły podstawowej</div></a></li>"+
"                                                  <li id='szkGrupoweGrupaWsparcia'><div class='liElement'><a href='szkPomocGrupoweGrupaWsparcia.html'>Grupa wsparcia i rozwoju osobistego dla młodzieży</a></div></li>"+
"                                               </ul>"+

"                                           </li>"+
"                                        </ul>"+
"                                    </li>"+
"                                    <li id='wczesne'><a href='pomocWczesnyRozwój.html'><div class='liElement'>wczesne wspomaganie rozwoju na terenie poradni</div></a></li>"+
"                                    <li id='warsztaty'><a href='pomocWarsztaty.html'><div class='liElement'>zajęcia warsztatowe na terenie szkół</div></a></li>"+
"                                    <li id='ferie'><a href='pomocFerie.html'><div class='liElement'>\"FERIE Z PORADNIĄ\"<br /><span class='attention'>NOWOŚĆ !</span></div></a></li>"+

"                                 </ul>"+
"                    </li>"+
"                    <li id='pomocDlaRodzicow'><a href='pomocDlaRodziców.html'><div class='liElement'>Pomoc dla rodziców</div></a>"+
"                       <ul>"+
"                           <li id='pomocRodziceSzkola'><a href='pomocDlaRodzicówSzkoła.html'><div class='liElement'>Szkoła dla Rodziców i Wychowawców</div></a></li>"+
"                           <li id='pomocRodzicePorady'><a href='pomocDlaRodzicówPorady.html'><div class='liElement'>Porady dla rodziców</div></a></li>"+
"                           <li id='pomocRodziceEmocje'><a href='pomocDlaRodzicówDzieckoEmocje.html'><div class='liElement'>Jak pomóc dziecku w radzeniu sobie z emocjami?</div></a></li>"+
// "                           <li id='pomocRodziceDyzur'><a href='pomocDlaRodzicówDyżur.html'><div class='liElement'>Dyżur pedagoga specjalnego, socjoterapeuty</div></a></li>"+
// "                           <li id='pomocRodziceBycMama'><a href='pomocDlaRodzicówByćMamą.html'><div class='liElement'>Być mamą</div></a></li>"+
// "                           <li id='pomocRodziceKonferencja'><a href='pomocDlaRodzicówKonferencja.html'><div class='liElement'>Konferencja \"Depresja, samookaleczenia, ADHD, autyzm – Jak pomóc?\"</div></a></li>"+
"                           <li id='pomocRodzicePogadanki'><a href='pomocDlaRodzicówPogadanki.html'><div class='liElement'>Pogadanki, prelekcje, warsztaty na terenie szkół/przedszkoli/placówek</div></a></li>"+
"                       </ul></li>"+
"                    <li id='pomocDlaNauczycieli'><a href='pomocDlaNauczycieli.html'><div class='liElement'>Pomoc dla nauczycieli</div></a></li>"+
"                    <li id='badaniesluchu'><a href='badanieSłuchu.html'><div class='liElement'>Komputerowe badanie słuchu</div></a></li>"+
"                    </ul></li>"+
"               </ul>"+
"<div style='text-align: left; margin-bottom: 30px;'><img src='../img/puzzle-slice.png' /></div>";

// ########################################################
// set the mouseover and mouseout events for each li item

var lis = document.getElementById("tasksMenu").getElementsByTagName("li");
var initialColor;

for (k=0; k<lis.length; k++) {
    var liElement = lis[k].getElementsByClassName("liElement")[0];

    if (typeof liElement === 'undefined') {} 
    else {

        liElement.addEventListener("mouseover", 
        function(event) {
            initialColor = this.style.backgroundColor;
            this.style.backgroundColor = "#E7E7E7";
             
        }, 
        false);

        liElement.addEventListener("mouseout", 
        function(event) {
             this.style.backgroundColor = initialColor;
        }, 
        false);
    }
};

// ########################################################
// navigation

function markSelected(elmID) {
                elm = document.getElementById(elmID);
                //elm.className = elm.className + ' selected';
                elm.getElementsByClassName('liElement')[0].style.backgroundColor = '#D7D7D7';
                
                collapseOthers(elmID);
                expandChild(elmID);
                
                // #######
                var parent = findParent(elm)
                //debug("parent: " + parent.getAttribute('id') + "<br /><br />current: " + elm.getAttribute('id') );
                //parent.style.borderLeft = "2px solid green"
                //parent.style.backgroundColor = "green"

                elm.getElementsByClassName('liElement')[0].style.borderLeft = "2px solid green"
                parent.getElementsByClassName('liElement')[0].style.borderLeft = "2px solid green";

};


// collapse all the uls
function collapseOthers(elmID) {

    var uls = document.getElementsByClassName("simpleList")[0].getElementsByTagName("ul")

    for (i=0; i<uls.length; i++) {
        uls[i].style.display = "none"
    }
    // expand the uls containg selected item and its ancestors
    var walker = document.getElementById(elmID);
    while (walker != document.getElementsByClassName("simpleList")[0]) {

        if (walker.nodeName == 'UL') {
            walker.style.display = "block";
        }
        walker = walker.parentNode;
    }
};

// expand the ul that is the child of the selected item
function expandChild(elmID) {

    var children = document.getElementById(elmID).childNodes;
    for (i=0; i<children.length; i++) {


        if (children[i].nodeName == 'UL') {
            children[i].style.display = "block";

        }
    }

};

function findParent(element) {
    // we are already on top
    if (element.getAttribute('id')=="zadaniaMain") {
        return element
    }

    i = element.parentNode

    while (i.nodeName != "UL")
    {
        i = i.parentNode;
    }
    return i.parentNode;
}
function debug(shoutThis) {
    var elm = document.getElementById("debug");
    elm.innerHTML = shoutThis + "<hr />"
}

document.getElementById("diagnoza").onclick = function() {
    location.href= "diagnoza.html";
}